function f(t,{className:e,attrs:a,text:i}={},...n){const s=document.createElement(t);e&&(s.className=e),i!=null&&(s.textContent=i),a&&Object.entries(a).forEach(([r,c])=>{c!=null&&s.setAttribute(r,String(c))});const o=r=>{if(r!=null){if(Array.isArray(r)){r.forEach(o);return}if(typeof r=="string"||typeof r=="number"){s.appendChild(document.createTextNode(r.toString()));return}s.appendChild(r)}};return n.forEach(o),s}class b{constructor(e="/flask-profiler/api"){this.baseURL=e}async _fetchJson(e,a={},i={}){const n=new URL(`${this.baseURL}${e}`,window.location.origin);Object.entries(a).forEach(([o,r])=>{r!=null&&n.searchParams.append(o,r)});const s=await fetch(n,i);if(!s.ok){const o=s.statusText?` ${s.statusText}`:"";throw new Error(`HTTP ${s.status}${o}`)}return s.json()}async fetchMeasurements(e={}){return this._fetchJson("/measurements/",e)}async fetchSummary(e={}){return this._fetchJson("/measurements/grouped",e)}async fetchTimeseries(e={}){return this._fetchJson("/measurements/timeseries/",e)}async fetchMethodDistribution(e={}){return this._fetchJson("/measurements/methodDistribution/",e)}async fetchProfileStatsConfig(e={}){return this._fetchJson("/config/profileStats",e)}async getMeasurementDetail(e){return this._fetchJson(`/measurements/${e}`)}async deleteDatabase(){const e=await fetch("/flask-profiler/db/deleteDatabase");if(!e.ok)throw new Error(`HTTP ${e.status}`);return e.json()}dumpDatabase(){window.location.href="/flask-profiler/db/dumpDatabase"}}const d={"&":"&amp;","<":"&lt;",">":"&gt;"};function m(t){return t.replace(/[&<>]/g,e=>d[e])}function g(t){if(t===void 0)return"";const e=JSON.stringify(t,null,2);return m(e).replace(/("(?:\\u[a-fA-F0-9]{4}|\\[^u]|[^\\"])*"(?:\s*:)?|\btrue\b|\bfalse\b|\bnull\b|-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)/g,i=>{let n=i,s="",o="json-token-number";return n.endsWith(":")&&(s=":",n=n.slice(0,-1)),n.startsWith('"')?o=s?"json-token-key":"json-token-string":n==="true"||n==="false"?o="json-token-boolean":n==="null"?o="json-token-null":o="json-token-number",`<span class="${o}">${n}</span>${s}`})}function y(t){l(t,"success")}function T(t){l(t,"error")}function l(t,e="info"){const a=document.querySelector(".alert");a&&a.remove();const i=f("div",{className:`alert alert-${e}`,text:t}),n=document.querySelector(".main");n?n.insertBefore(i,n.firstChild):document.body.insertBefore(i,document.body.firstChild),setTimeout(()=>{i.remove()},5e3)}const h={GET:"#28a745",POST:"#007bff",PUT:"#ffc107",DELETE:"#dc3545",PATCH:"#17a2b8",HEAD:"#6610f2",OPTIONS:"#e83e8c"},u="#6c757d";function p(t){if(!t)return u;const e=String(t).toUpperCase();return h[e]||u}function E(t){const e=t?String(t).toUpperCase():"UNKNOWN",a=f("span",{className:"method-badge",text:e});return a.style.setProperty("--method-badge-color",p(e)),a}function S(t){const e=Number(t);return Number.isFinite(e)?`${e.toFixed(7)}s`:"â€”"}function k(t){return new Date(Number(t)*1e3).toLocaleString()}export{b as A,f as a,k as b,E as c,y as d,S as f,p as g,g as h,T as s};
